# ロボットと接続する

## 1.配線  
ロボットとVTコントローラをLANケーブルで接続します。

![VECOW](img/VECOW.jpg)

## 2.通信手段について  
![Client-Server](img/com1.png)

ロボットとVTコントローラの接続には２系統あります。ひとつはロボット側から撮像コマンドなどをVTコントローラへリクエストする①リクエストチャネル、もうひとつはVTコントローラがロボットから一定周期に、座標値などを受取る②ストリーミングチャネルです。  
リクエストチャネルはVTコントローラとの通信においては必須なのに対して、ストリーミングチャンネルはロボット側の機能に依存するため、あくまでオプションです。

### ①リクエストチャネル  
VTが提供する機能は下表のとおり。これらの機能は各ロボットの**ロボット言語**からリクエストします。

{% ifenv env="Fanuc" %}
|リクエスト名|略号|説明|ロボット言語|
|:---|:---|:---|:---|
|リセット|X0|保存領域の撮像データをクリアします|ﾖﾋﾞﾀﾞｼ ROVI_RESET|
|キャプチャ|X1\撮像を行いデータを保存領域に蓄えます|ﾖﾋﾞﾀﾞｼ ROVI_CAPTURE|
|ソルブ|X2|撮像データを解析します|ﾖﾋﾞﾀﾞｼ ROVI_SOLVE|
|レシピ呼出|X3|保存されているレシピを呼び出す|ﾖﾋﾞﾀﾞｼ ROVI_RECIPE|
{% endifenv %}

{% ifenv env="Motoman" %}
|リクエスト名|略号|説明|ロボット言語|
|:---|:---|:---|:---|
|リセット|X0|保存領域の撮像データをクリアします|CALL JOB:ROVI_RESET|
|キャプチャ|X1|撮像を行いデータを保存領域に蓄えます|CALL JOB:ROVI_CAPTURE|
|ソルブ|X2|撮像データを解析します|CALL JOB:ROVI_SOLVE|
|レシピ呼出|X3|保存されているレシピを呼び出す|CALL JOB:ROVI_RECIPE|
{% endifenv %}

{% ifenv env="Melfa" %}
|リクエスト名|略号|説明|ロボット言語|
|:---|:---|:---|:---|
|リセット|X0|保存領域の撮像データをクリアします|Gosub *X0|
|キャプチャ|X1|撮像を行いデータを保存領域に蓄えます|Gosub *X1|
|ソルブ|X2|撮像データを解析します|Gosub *X2|
|レシピ呼出|X3|保存されているレシピを呼び出す|Gosub *X3|
{% endifenv %}

使い方は、サンプルプログラムを参照ください。


